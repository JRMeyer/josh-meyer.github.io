NEEDED:
          (0) installed kenlm
          (1) words.txt
          (2) alphabet.txt


## DEPENDENCIES ##
sudo apt-get update
sudo apt-get install build-essential cmake libboost-all-dev zlib1g-dev libbz2-dev liblzma-dev libeigen3-dev


## Install Kenlm ##

wget -O - https://kheafield.com/code/kenlm.tar.gz |tar xz;
mkdir kenlm/build;
cd kenlm/build;
cmake ..;
make -j `nproc`;


## First: Train ARPA from text ##

kenlm/build/bin/lmplz \
           --order 2 \
           --text words.txt \
           --arpa lm.arpa \
           --discount_fallback


## Second: Make Binary LM from ARPA ##

kenlm/build/bin/build_binary \
           -a 255 \
           -q 8 \
           trie \
           lm.arpa \
           lm.bin


## Third: Make Trie from alphabet and Binary LM ##

# `generate_trie` is compiled by `DeepSpeech/.install`

tmp/native_client/generate_trie \
           alphabet.txt \
           lm.bin \
           trie
